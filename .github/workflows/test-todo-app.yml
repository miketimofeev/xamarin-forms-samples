name: Validate Mono versions
on:
  workflow_dispatch:

jobs:
  current-mono:
    name: Mono 6.12.0.125
    runs-on: macos-latest
    steps:    
    - uses: actions/checkout@v2
    - name: Mono version
      run: mono --version
    - name: Nuget restore
      run: nuget restore ./Todo/Todo.sln

  new-mono:
    name: Mono 6.12.0.140
    runs-on: macos-latest
    steps:    
    - uses: actions/checkout@v2
    - name: Remove current Mono
      run: sudo rm -rf /Library/Frameworks/Mono.framework/Versions/6.12.0
    - name: Install new Mono
      run: ./install-mono.sh
    - name: Mono version
      run: mono --version
    - name: Nuget restore
      run: nuget restore ./Todo/Todo.sln
